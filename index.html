<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Порко приложение</title>

  <!-- Include Open Sans BG font -->
  <link rel="stylesheet" href="//npoekmu.me/wp-content/uploads/display_custom_font/css/opensans_bg.css">
  <link rel="stylesheet" href="styles.css" />

  <!-- Firebase SDKs -->
  <script type="module" src="https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/9.17.2/firebase-database.js"></script>
</head>
<body>

<!-- First Screen (Main UI) -->
<div class="app-container" id="first-screen">
  <img src="logoporko.png" alt="FerretFeels Logo" class="logo" />
  <form id="user-info-form">
    <label for="username">Напиши твоето име</label>
    <input type="text" id="username" placeholder="пример: Порко" required autocomplete="username" />
    <button type="submit" id="start-btn" class="welcome-main-btn">
      <span id="start-btn-label">Старт</span>
    </button>
    </form>

    <!-- Info button inside 9:16 frame -->
    <button id="info-btn" class="info-btn" aria-label="Покажи информация">
      <img src="info-button.png" alt="Info" />
    </button>
  </div>

<!-- Info Popup -->
<div id="info-popup" class="info-popup" role="dialog" aria-modal="true" aria-labelledby="info-title" style="display: none;">
  <div class="info-content">
    <h2 id="info-title">Важна информация</h2>
    <p>Приложението е за проследяване на консумацията на алкохол и не насърчава прекомерната консумация на алкохол. Моля, бъдете отговорни и се грижете за своето здраве.</p>
    <button id="back-btn" class="back-btn" aria-label="Затвори информацията">
      <img src="back-button.png" alt="Back" class="back-icon" />
    </button>
    <button id="terms-from-info-btn" class="settings-btn" style="margin-top: 15px;"></button>
  </div>
</div>

  <!-- ✅ NEW Welcome Screen -->
  <div class="app-container" id="welcome-screen" style="display: none;">
    <h2> </h2>
    <button id="language-switch-btn" class="language-btn">EN</button>
    <!-- Add Logo here -->
    <img src="logoporko.png" alt="FerretFeels Logo" id="welcome-logo" class="logo" />
    <!-- Language Switch Button -->
    <p>Тук ще се запознаеш с твоето ново порче!</p>
    <p>Как работи?</p>
    <ul>
      <li>• Напиши твоето име за да стартираш приложението</li>
      <li>• Въвеждай твоите напитки и разбери алкохолните ти единици</li>
      <li>• Гледай как порчето ти се променя и какво казва според алкохолните единици</li>
    </ul>
<button id="continue-btn" class="welcome-main-btn" type="button">
  <span id="continue-btn-label">ПРОДЪЛЖИ</span>
</button>
    <!-- Visitor Counter on Welcome Screen -->
    <div id="visitor-counter" class="visitor-counter">
      <span id="visitor-count">0</span> порчета са станали приятели с нас
    </div>
  </div>

  <!-- Second Screen -->
  <div id="second-screen" class="app-container" style="display: none; flex-direction: column; justify-content: space-between; padding: 20px;">

    <!-- Speech bubble images -->
    <img id="bubble-neutral" class="speech-bubble" src="speech-bubble-neutral.png" alt="" style="display: none;">
    <img id="bubble-tipsy" class="speech-bubble" src="speech-bubble-tipsy.png" alt="" style="display: none;">
    <img id="bubble-drunk" class="speech-bubble" src="speech-bubble-drunk.png" alt="" style="display: none;">
    <img id="bubble-wobbly" class="speech-bubble" src="speech-bubble-wobbly.png" alt="" style="display: none;">

    <!-- Text within the bubbles -->
    <div id="bubble-text-neutral" class="bubble-text" style="display: none;"></div>
    <div id="bubble-text-tipsy" class="bubble-text" style="display: none;"></div>
    <div id="bubble-text-drunk" class="bubble-text" style="display: none;"></div>
    <div id="bubble-text-wobbly" class="bubble-text" style="display: none;"></div>

    <!-- Ferret images -->
    <img id="ferret-neutral" class="ferret-mood" src="ferret-neutral.png" alt="" style="display: none;">
    <img id="ferret-tipsy" class="ferret-mood" src="ferret-tipsy.png" alt="" style="display: none;">
    <img id="ferret-drunk" class="ferret-mood" src="ferret-drunk.png" alt="" style="display: none;">
    <img id="ferret-wobbly" class="ferret-mood" src="ferret-wobbly.png" alt="" style="display: none;">

<div id="alcohol-units-text"></div>

    <!-- Bottom Buttons -->
<div class="bottom-buttons">
  <button id="menu-btn" aria-label="Меню">Меню</button>
  <button id="settings-btn" aria-label="Настройки">
    <img src="settings-button.png" alt="Settings" />
  </button>
</div>
  </div>

  <!-- Choose Drink Button (In Second Screen) -->
  <div id="choose-drink-btn" style="display: none;">Choose Drink</div>

  <!-- Modal Popup for Drink Selection -->
<div id="drink-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="drink-modal-title" style="display: none;">
  <div id="modal-content" class="drink-modal-content">
    <button type="button" class="close-btn" id="close-modal-btn" aria-label="Затвори модала">×</button>
    <h2 id="drink-modal-title">Избери напитка</h2>
    <div id="drink-options">
  <button class="drink-option" id="whiskey-btn" aria-label="Избери уиски">УИСКИ</button>
  <button class="drink-option" id="vodka-btn" aria-label="Избери водка">ВОДКА</button>
  <button class="drink-option" id="rum-btn" aria-label="Избери ром">РОМ</button>
  <button class="drink-option" id="gin-btn" aria-label="Избери джин">ДЖИН</button>
  <button class="drink-option" id="tequila-btn" aria-label="Избери текила">ТЕКИЛА</button>
</div>
    </div>
  </div>

  <!-- Mini Modal: Enter Drink Info -->
  <div id="drink-details-modal" class="details-modal" role="dialog" aria-modal="true" aria-labelledby="drink-details-title" style="display: none;">
    <div class="details-content">
      <button id="close-details-btn" class="close-btn" aria-label="Затвори модала">×</button>
      <h2 id="drink-details-title">Напиши информация за</h2>
      <label for="alcohol-percentage">% Алкохол</label>
      <input type="number" id="alcohol-percentage" placeholder="процент на алкохол" min="0" max="100" />
      <label for="drink-amount">Количество в милилитри</label>
      <input type="number" id="drink-amount" placeholder="милилитри" min="0" />
      <button id="submit-drink" type="button">OK</button>
    </div>
  </div>

  <!-- Drink Input Error Modal (Custom) -->
  <div id="drink-error-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="drink-error-title" style="display: none;">
    <div class="modal-content">
      <h3 id="drink-error-title">Моля въведете процент на алкохола и милилитри.</h3>
      <button id="close-drink-error-btn" class="modal-btn">Go back</button>
    </div>
  </div>

  <!-- THIRD SCREEN: Settings -->
  <div id="settings-screen" class="app-container" style="display: none;">
    <h2>Настройки</h2>
    <!-- FAQ Alcohol Info Button -->
    <button id="faq-alcohol-info-btn" class="settings-btn">
      ЧЗВ за алкохола
    </button>
    <!-- History Log Button -->
    <button id="history-log-btn" class="settings-btn">
      История на логовете
    </button>
    <!-- Statistics Button -->
    <button id="statistics-btn" class="settings-btn">
      Показване на статистика
    </button>
    <!-- Change Your Name Button -->
    <button id="change-name-btn" class="settings-btn">
      Смени името си
    </button>
    <!-- QR Code Button -->
    <button id="qr-code-btn" class="settings-btn">
      QR код за споделяне
    </button>
      <!-- Terms of Use Button -->
  <button id="terms-of-use-btn" class="settings-btn">
    Общи условия
  </button>
    <!-- Back Button -->
    <button id="back-from-settings-btn">Назад</button>
  </div>

  <!-- Statistics Screen (Move outside Settings Screen) -->
  <div id="statistics-screen" class="app-container" style="display: none;">
    <button id="back-from-statistics-btn" class="back-top-right-btn">← Назад</button>
    <h2>Статистика</h2>
    <div id="daily-statistics">
      <h4>Общо за последните 24 часа:</h4>
      <p id="daily-total">0.0 единици алкохол</p>
    </div>
    <div id="weekly-statistics">
      <h4>Общо за седмицата:</h4>
      <p id="weekly-total">0.0 единици алкохол</p>
    </div>
    <div id="monthly-statistics">
      <h4>Общо за месеца:</h4>
      <p id="monthly-total">0.0 единици алкохол</p>
    </div>
  </div>

  <!-- FAQ Alcohol Info Screen -->
<div id="faq-screen" class="app-container" style="display: none;">
  <button id="back-from-faq-btn" class="back-top-right-btn">← Назад</button>
  <h2>ЧЗВ за алкохола</h2>
  <div class="faq-list">
    <div class="faq-item">
      <div class="faq-question">Какво е алкохолна единица и как се измерва?</div>
      <div class="faq-answer">
       Алкохолните единици са официалната мярка за алкохол.
      Една напитка обаче НЕ е равна на една алкохолна единица.
       Измерват се като количество чист етанол.
       Една алкохолна единица е еквивалентна на 8 г или 10 милилитра чист алкохол/етанол.
      </div>
    </div>
    <div class="faq-item">
      <div class="faq-question">За колко време се усвоява 1 алкохолна единица в тялото ни?</div>
      <div class="faq-answer">
        1 алкохолна единица се разгражда от човешкият организъм средно за малко повече от 1 час.
        Времето за абсорбация зависи от различни фактори, като пол, ръст и тегло, колко бързо се пие,
        какъв вид и по колко и дали по време на консумацията се храни и пие вода.
      </div>
    </div>
    <div class="faq-item">
      <div class="faq-question">Какви съвети може да приемем за отговорна консумация?</div>
      <div class="faq-answer">
Преди и по време на консумация на алкохол е важно да се храните и да пиете вода.</div>
<div class="faq-answer">Предварително си поставете граници за количеството, което искате да изпиете. </div>
<div class="faq-answer">Планирайте по какъв начин ще се приберете вкъщи. </div>
<div class="faq-answer">Бройте напитките, които изпивате и споделяйте с приятели, в първия момент, в който почувствате, че сте изпили достатъчно. </div>
<div class="faq-answer">Важно е да устоите на натиска от приятели и/или непознати, които искат да продължите, дори когато вие не желаете!</div>
      </div>
    </div>
    <div class="faq-item">
      <div class="faq-question">Какво да правим ако сме прекалили с алкохола?</div>
      <div class="faq-answer"> Въпреки всички положени усилия, се случва прекаляването с алкохол. </div>
<div class="faq-answer"> Важно е преди да си легнете да пиете много вода и да поставите до леглото си още толкова количество вода.</div>
<div class="faq-answer"> Ако имате възможност вземете хапче против киселини в стомаха. Консумирайки много алкохол предната вечер, ще е добре да не консумирате никакви алкохолни напитки следващите 48 часа. </div>
    </div>
    <div class="faq-item">
      <div class="faq-question">Не на последно място по важност:</div>
       <div class="faq-answer">НИКОГА НЕ сядайте зад волана след употреба на алкохол!</div>
       <div class="faq-answer">Използвайте алтернативи на шофирането в нетрезво състояние!</div>
  </div>
</div>

  <!-- History Log Screen -->
  <div id="history-log-screen" class="app-container" style="display: none;">
    <button id="back-from-history-btn" class="back-top-right-btn">← Назад</button>
    <h2>История на логовете</h2>
    <ul id="history-list">
      <!-- History entries will be dynamically added here -->
    </ul>
    <button id="clear-history-btn" class="settings-btn">Изчисти историята</button>
  </div>

  <!-- Clear History Confirmation Modal -->
  <div id="clear-history-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="clear-history-title" style="display: none;">
    <div class="modal-content">
      <h3 id="clear-history-title">Сигурни ли сте, че искате да изчистите историята?</h3>
      <div class="modal-buttons">
        <button id="confirm-clear-btn" class="modal-btn">Да</button>
        <button id="cancel-clear-btn" class="modal-btn">Не</button>
      </div>
    </div>
  </div>

  <!-- QR Code Screen -->
  <div id="qr-code-screen" class="app-container" style="display: none;">
    <button id="back-from-qr-btn" class="back-top-right-btn">← Назад</button>
    <h2>QR код за споделяне</h2>
    <!-- Add your PNG QR code here -->
    <img id="qr-code-image" src="qr-code-image.png" alt="QR Code" />
  </div>

<div id="terms-of-use-screen" class="app-container" style="display: none;">
  <button id="back-from-terms-btn" class="back-top-right-btn">← Назад</button>
  <h2 id="terms-title">Общи условия</h2>
 <div class="terms-list">
    <div class="terms-item">
      <div class="terms-title">Предназначение на приложението</div>
      <div class="terms-text">
        Това приложение е създадено с цел да помага на потребителите да следят консумацията си на алкохол за информационни и развлекателни цели. То не насърчава и не поощрява прекомерната употреба на алкохол.
      </div>
    </div>
    <div class="terms-item">
      <div class="terms-title">Отговорност на потребителя</div>
      <div class="terms-text">
        Потребителите носят пълна отговорност за информацията, която въвеждат в приложението, включително избраните напитки и въведените псевдоними (имена).
      </div>
    </div>
    <div class="terms-item">
      <div class="terms-title">Отказ от отговорност</div>
      <div class="terms-text">
        Това приложение не е медицински инструмент. За здравни съвети винаги се консултирайте с квалифициран специалист.
      </div>
    </div>
    <div class="terms-item">
      <div class="terms-title">Поверителност и имена</div>
      <div class="terms-text">
        Приложението съхранява въведеното от вас име за целите на статистика и персонализация. <u>Моля, не използвайте своето истинско име, имейл или друга чувствителна лична информация като име.</u>
        <br>Не носим отговорност, ако въведете чувствителна или лична информация в полето за име, тъй като това име се запазва в нашата система.
      </div>
    </div>
    <div class="terms-item">
      <div class="terms-title">История на напитките и локални данни</div>
      <div class="terms-text">
        Всички данни за вашите напитки и историята на консумация (включително данните, които въвеждате чрез менюто за напитки) се съхраняват само локално на вашето устройство (телефон или компютър). Тази информация <u>не се качва на нашите сървъри</u> и е достъпна само за вас. Можете да изтриете историята си по всяко време чрез наличната опция в приложението.
      </div>
    </div>
    <div class="terms-item">
      <div class="terms-title">Съхранение на данни</div>
      <div class="terms-text">
        Приложението съхранява само вашето име (за статистика) в нашите сървъри. Не се изисква или съхранява друга лична информация на нашите сървъри.
      </div>
    </div>
    <div class="terms-item">
      <div class="terms-title">Ограничение на отговорността</div>
      <div class="terms-text">
        Създателите на това приложение не носят отговорност за каквито и да е последствия, произтичащи от употребата или неправилната употреба на приложението.
      </div>
    </div>
  </div>
</div>

  <script type="module" src="script.js"></script>
</body>
</html>